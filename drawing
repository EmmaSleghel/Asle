
<!DOCTYPE html>
<html>
<sc
<body>

<canvas id="myCanvas" width="200" height="100" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.
</canvas>

<button onclick="myFunction()">Let me try!</button>

</body>

</html>

<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
var W = canvas.width;
var H = canvas.height;
var x = 10, 
y = 10, 
w = 4,
h = 4;

var startPoint = {X:10, Y:10};
var destinationPoint = {X:97, Y:17};
var Angle = Math.atan2(destinationPoint.Y - startPoint.Y, destinationPoint.X - startPoint.X);
var backgroundClean = ctx.getImageData(0,0,W,H);
ctx.beginPath();
ctx.moveTo(startPoint.X, startPoint.Y);
ctx.lineTo(destinationPoint.X, destinationPoint.Y);
ctx.stroke();
background = ctx.getImageData(0,0,W,H);
var vx = 2;
var vy = 2;

var frames = 2;
var sin = Math.sin(Angle) * frames;
var cos = Math.cos(Angle) * frames;
var shown = 0;
function draw()
{	
	if ( x < destinationPoint.X && shown <= 2){
	ctx.putImageData(background, 0, 0);
	x += cos;
	y += sin;

	ctx.fillRect(x,y,w,h);}

	else 
	{
		x = startPoint.X;
		y = startPoint.Y;
		shown += 1;
	}


}



setInterval(draw, 1000/40);

var mouse = {x: 0, y: 0};
var last_mouse = {x: 0, y: 0};

function myFunction(){
	ctx.putImageData(backgroundClean, 0, 0);
}

canvas.addEventListener('mousemove', function(e) {
        last_mouse.x = mouse.x;
        last_mouse.y = mouse.y;

        mouse.x = e.pageX - this.offsetLeft;
        mouse.y = e.pageY - this.offsetTop;
    }, false);

canvas.addEventListener('mousedown', function(e){
	canvas.addEventListener('mousemove', onPaint, false);
}, false);


canvas.addEventListener('mouseup', function(e){
	canvas,addEventListener('mousemove',onPaint,false)
}, false);

var onPaint = function(){
	ctx.beginPath();
	ctx.moveTo(last_mouse.x, last_mouse.y);
	ctx.lineTo(mouse.x, mouse.y);
	ctx.closePath();
	ctx.stroke();
};
</script>